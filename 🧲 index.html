<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Cherrak Infinity ♾️ AI — العالم الشامل</title>
<style>
:root{--bg:#020619;--card:rgba(255,255,255,0.02);--neon1:#00d4ff;--neon2:#9b3bff;--accent:#ffd36b;--txt:#e9f6ff;--muted:#9fb6d9}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:"Tajawal",Arial;background:linear-gradient(135deg,#020619,#06102a);color:var(--txt);-webkit-font-smoothing:antialiased}
.top{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;border-bottom:1px solid rgba(255,255,255,0.03)}
.brand{display:flex;align-items:center;gap:12px}
.brand .logo{font-size:32px}
.brand h1{margin:0;background:linear-gradient(90deg,var(--neon1),var(--neon2));-webkit-background-clip:text;color:transparent;font-size:18px}
.controls{display:flex;gap:8px;align-items:center}
.chip{padding:8px 10px;border-radius:10px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);cursor:pointer}
.layout{display:grid;grid-template-columns:260px 1fr;gap:18px;padding:18px;align-items:start}
@media(max-width:900px){.layout{grid-template-columns:1fr}}
.sidebar{background:var(--card);padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);height:fit-content}
.center{background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);min-height:72vh;overflow:auto}
.header-card{display:flex;justify-content:space-between;align-items:center;gap:12px}
.header-card h2{margin:0;font-size:20px}
.kv{color:var(--muted);font-size:13px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px;margin-top:16px}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);cursor:pointer;transition:transform .12s, box-shadow .12s;position:relative}
.card:hover{transform:translateY(-6px);box-shadow:0 10px 30px rgba(0,0,0,0.4)}
.rightBox{position:fixed;right:24px;bottom:24px;z-index:999}
.magnet{width:84px;height:84px;border-radius:18px;background:linear-gradient(180deg,#0a1a2a,#021426);display:flex;align-items:center;justify-content:center;font-size:36px;cursor:grab;border:3px solid rgba(0,212,255,0.08);box-shadow:0 12px 40px rgba(0,0,0,0.6)}
.magnet:active{cursor:grabbing;transform:scale(.98)}
.footer{padding:12px 18px;text-align:center;color:var(--muted);border-top:1px solid rgba(255,255,255,0.02)}
.pull-effect{transition:transform .24s, filter .24s}
.badge{display:inline-block;padding:6px 8px;border-radius:10px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03)}
.sndToggle{margin-left:8px}
</style>
</head>
<body>
  <header class="top">
    <div class="brand">
      <div class="logo">🧲</div>
      <div><h1>Cherrak Infinity ♾️ AI</h1><div class="kv">العالم الشامل — اسحب المغناطيس لجذب البطاقات</div></div>
    </div>
    <div class="controls">
      <div id="user" class="chip">Cherrak Houari</div>
      <button id="lang" class="chip">English</button>
      <button id="logout" class="chip">🔙 خروج</button>
    </div>
  </header>

  <main class="layout">
    <aside class="sidebar">
      <h3>الأقسام</h3>
      <div class="kv" style="margin-bottom:8px">اضغط لفتح</div>
      <div style="display:flex;flex-direction:column;gap:8px">
        <button data-s="library" class="chip">📚 المكتبة</button>
        <button data-s="quran" class="chip">القرآن الكريم</button>
        <button data-s="apps" class="chip">🌐 التطبيقات</button>
        <button data-s="aiapps" class="chip">🤖 AI Tools (70)</button>
        <button data-s="sites" class="chip">🕸 المواقع (70)</button>
      </div>
      <div style="margin-top:12px" class="kv">سحب المغناطيس يسحب البطاقات القريبة بصريًا</div>
    </aside>

    <section class="center" id="center">
      <div class="header-card">
        <div>
          <h2 id="title">مرحبًا في عالم Cherrak Infinity ♾️ AI</h2>
          <div class="kv" id="subtitle">اسحب المغناطيس 🧲 نحو البطاقات لمشاهدتها مقربة</div>
        </div>
        <div class="kv">المستخدمون: <strong id="users">12,847</strong> — الأرباح: <strong id="earn">$127,430</strong></div>
      </div>

      <div id="landing" style="margin-top:16px">
        <div class="grid" id="cardsGrid">
          <!-- sample cards (will be populated by JS) -->
        </div>
      </div>
    </section>
  </main>

  <!-- magnet control -->
  <div class="rightBox">
    <div style="display:flex;flex-direction:column;gap:8px;align-items:center">
      <div id="magnet" class="magnet" title="اسحب المغناطيس لجذب البطاقات">🧲</div>
      <div style="margin-top:6px" class="badge">الساحب</div>
      <label style="margin-top:8px" class="badge"><input id="soundToggle" type="checkbox" class="sndToggle" checked/> صوت الدخول</label>
    </div>
  </div>

  <footer class="footer">© Cherrak Infinity ♾️ AI — 2025</footer>

<script>
/* ====== Inhalte & Magnet "puller" JS ====== */
(function(){
  const cardsGrid = document.getElementById('cardsGrid');
  const magnet = document.getElementById('magnet');
  const usersEl = document.getElementById('users');
  const earnEl = document.getElementById('earn');
  const soundToggle = document.getElementById('soundToggle');
  const langBtn = document.getElementById('lang');
  const logout = document.getElementById('logout');

  // sample content: mixture of library/apps/AI/sites
  const items = [];
  const apps = ['PayPal','X','Instagram','Facebook','WhatsApp','Alibaba','Amazon','eBay','TikTok'];
  const aiNames = Array.from({length:70},(_,i)=>'AI Tool '+(i+1));
  const sites = ['google.com','wikipedia.org','youtube.com','github.com','reddit.com','medium.com','nytimes.com','bbc.com','netflix.com'];

  // compose ~30 visible cards (for perf) mixing the types (but user has full lists via other menus)
  for(let i=0;i<30;i++){
    const type = i%3===0 ? 'app' : (i%3===1 ? 'ai' : 'site');
    let title = (type==='app') ? apps[i % apps.length] : (type==='ai' ? aiNames[i % aiNames.length] : sites[i % sites.length]);
    items.push({id:'c'+i, title, type, desc: type==='ai' ? 'أداة ذكية' : (type==='app' ? 'تطبيق عالمي' : 'موقع مشهور')});
  }

  // create cards DOM
  items.forEach(it=>{
    const el = document.createElement('div'); el.className='card pull-effect'; el.id = it.id;
    el.innerHTML = `<div class="title">${it.title}</div><div class="desc">${it.desc}</div>`;
    el.addEventListener('click', ()=> {
      // open real site for apps/sites, simulate for AI
      if(it.type==='app') {
        const map = {PayPal:'https://www.paypal.com',X:'https://x.com',Instagram:'https://www.instagram.com',Facebook:'https://www.facebook.com',WhatsApp:'https://www.whatsapp.com',Alibaba:'https://www.alibaba.com',Amazon:'https://www.amazon.com',eBay:'https://www.ebay.com',TikTok:'https://www.tiktok.com'};
        window.open(map[it.title]||'https://'+it.title,'_blank');
      } else if(it.type==='site'){
        window.open('https://'+it.title,'_blank');
      } else {
        alert('تشغيل محاكاة: '+it.title);
      }
    });
    cardsGrid.appendChild(el);
  });

  // MAGNET: drag logic
  let dragging=false, offsetX=0, offsetY=0;
  let magRect = magnet.getBoundingClientRect();
  magnet.addEventListener('pointerdown', (e)=>{
    dragging=true;
    magnet.setPointerCapture(e.pointerId);
    offsetX = e.clientX - magnet.offsetLeft;
    offsetY = e.clientY - magnet.offsetTop;
    magnet.style.transition='none';
  });
  window.addEventListener('pointermove', (e)=>{
    if(!dragging) return;
    const x = e.clientX - offsetX;
    const y = e.clientY - offsetY;
    magnet.style.position='fixed';
    magnet.style.left = Math.max(8, Math.min(window.innerWidth - magnet.offsetWidth - 8, x)) + 'px';
    magnet.style.top = Math.max(8, Math.min(window.innerHeight - magnet.offsetHeight - 8, y)) + 'px';
    applyMagnetEffect();
  });
  window.addEventListener('pointerup', (e)=>{
    if(!dragging) return;
    dragging=false;
    magnet.releasePointerCapture && magnet.releasePointerCapture(e.pointerId);
    magnet.style.transition='all .3s';
    // optional: snap back to corner
    magnet.style.left = ''; magnet.style.top = '';
    magnet.style.position='static';
    clearPulls();
  });

  // calculate pull: for each card, compute distance to magnet center; if < threshold pull them (transform)
  function applyMagnetEffect(){
    const mRect = magnet.getBoundingClientRect();
    const mx = mRect.left + mRect.width/2;
    const my = mRect.top + mRect.height/2;
    document.querySelectorAll('.card').forEach(c=>{
      const r = c.getBoundingClientRect();
      const cx = r.left + r.width/2;
      const cy = r.top + r.height/2;
      const dx = mx - cx;
      const dy = my - cy;
      const dist = Math.hypot(dx,dy);
      const threshold = 320; // pixels
      if(dist < threshold){
        // compute normalized pull strength
        const strength = (threshold - dist)/threshold; // 0..1
        const tx = dx * 0.45 * strength; // move factor
        const ty = dy * 0.25 * strength;
        const scale = 1 + 0.08 * strength;
        c.style.transform = `translate(${tx}px, ${ty}px) scale(${scale})`;
        c.style.filter = `brightness(${1 + 0.25*strength})`;
      } else {
        c.style.transform = '';
        c.style.filter = '';
      }
    });
    // sound tiny effect when close to many cards
    const closeCount = Array.from(document.querySelectorAll('.card')).filter(c=>{
      const r = c.getBoundingClientRect();
      const cx = r.left + r.width/2;
      const cy = r.top + r.height/2;
      return Math.hypot(mx - cx, my - cy) < 160;
    }).length;
    if(closeCount > 0 && soundToggle.checked){
      pulseSound(Math.min(0.04, 0.01 + closeCount*0.003));
    }
  }

  function clearPulls(){
    document.querySelectorAll('.card').forEach(c=>{ c.style.transform=''; c.style.filter=''; });
  }

  // light sound pulse
  let lastPulse = 0;
  function pulseSound(vol=0.02){
    const now = Date.now();
    if(now - lastPulse < 160) return;
    lastPulse = now;
    try{
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const o = ctx.createOscillator(); const g = ctx.createGain();
      o.type='sine'; o.frequency.value = 600;
      g.gain.value = vol;
      o.connect(g); g.connect(ctx.destination); o.start();
      setTimeout(()=>{ o.stop(); ctx.close(); }, 120);
    }catch(e){}
  }

  // language toggle & logout
  langBtn.addEventListener('click', ()=>{
    if(document.documentElement.lang==='ar'){ document.documentElement.lang='en'; document.documentElement.dir='ltr'; langBtn.textContent='العربية'; } else { document.documentElement.lang='ar'; document.documentElement.dir='rtl'; langBtn.textContent='English'; }
  });
  logout.addEventListener('click', ()=> { if(confirm('هل تريد الخروج؟')) location.href='../index.html'; });

  // fake live numbers small animation
  setInterval(()=> {
    usersEl.textContent = (12847 + Math.floor(Math.random()*50-25)).toLocaleString();
    earnEl.textContent = '$' + (127430 + Math.floor(Math.random()*2000-1000)).toLocaleString();
  }, 7000);

})();
</script>
</body>
</html>
