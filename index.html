doctype html>
<html lang="en" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Cherrak Infinity ‚ôæÔ∏è ‚Äî The Vault</title>
<style>
  :root{
    --bg1:#020610; --bg2:#051623; --accent:#08d0ff; --accent-2:#39ffbf;
    --card:#071827; --muted:#9fbcd6; --glass: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  body{
    margin:0;font-family: "Cairo", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    background: radial-gradient(circle at 30% 10%, rgba(8,16,30,1), var(--bg1) 40%, var(--bg2) 100%);
    color:#eaf6ff; -webkit-font-smoothing:antialiased;
    min-height:100vh; display:flex; align-items:center; justify-content:center; padding:18px;
  }

  /* full-screen vault card */
  .vault-wrap{
    width:100%; max-width:1200px; border-radius:14px; overflow:hidden;
    background:linear-gradient(180deg, rgba(0,0,0,0.2), rgba(0,0,0,0.45));
    border:1px solid rgba(255,255,255,0.04); box-shadow: 0 20px 60px rgba(0,0,0,0.6);
    display:flex; gap:0;
  }

  .left {
    width:60%; position:relative; padding:28px 20px 28px 28px;
    display:flex; flex-direction:column; align-items:flex-start; justify-content:center;
    background:
      linear-gradient(180deg, rgba(0,0,0,0.15), rgba(0,0,0,0.35)),
      url('vault.jpg') center/cover no-repeat;
    background-blend-mode:overlay;
    min-height:540px;
  }

  /* fallback for missing background */
  .left.fallback {
    background: linear-gradient(135deg,#02101a,#041e2a);
  }

  .robot {
    width:230px; height: auto; position: absolute; left:36px; bottom:18px; z-index:2;
    transform: translateX(-10%); filter: drop-shadow(0 18px 30px rgba(0,0,0,0.6));
  }

  .avatar {
    width:110px; height:140px; object-fit:cover; border-radius:6px; border:3px solid rgba(8,208,255,0.12);
    position:absolute; right:36px; top:70px; box-shadow:0 8px 26px rgba(0,0,0,0.6);
  }

  /* overlay for heading */
  .vault-title {
    width:100%; text-align:center; margin-top:12px; z-index:3;
  }
  .vault-title h1{ margin:6px 0; font-size:44px; letter-spacing:2px; color:#e6f8ff; text-shadow:0 2px 10px rgba(0,0,0,0.8) }
  .vault-title p{ margin:0; color:var(--muted); font-size:18px }

  /* control card */
  .control {
    margin-top:20px; width:100%; display:flex; gap:12px; align-items:center; justify-content:center; z-index:4;
  }
  input[type="password"], input[type="number"], select {
    background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04); color:inherit;
    padding:12px 14px; border-radius:10px; width:220px; font-size:15px;
  }
  .btn {
    background:linear-gradient(180deg,var(--accent),#057bb0); color:#001; border:none; padding:12px 18px;
    border-radius:12px; cursor:pointer; font-weight:700; box-shadow:0 8px 26px rgba(0,0,0,0.4);
  }
  .btn.ghost { background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--accent); }
  .btn.owner { background:linear-gradient(180deg,var(--accent-2),#10b78f); color:#002; }

  /* right panel */
  .right {
    width:40%; padding:28px; background: linear-gradient(180deg, rgba(1,12,20,0.6), rgba(2,10,18,0.9));
    min-height:540px; display:flex; flex-direction:column; gap:12px; align-items:stretch;
  }

  .panel { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,0.03) }
  .small{ color:var(--muted); font-size:13px }

  .appsList{ display:grid; grid-template-columns: repeat(2,1fr); gap:8px; margin-top:8px; max-height:320px; overflow:auto; padding-right:6px }
  .appItem{ display:flex; align-items:center; gap:8px; padding:8px; border-radius:8px; background: rgba(255,255,255,0.015) }
  .appItem .thumb{ width:40px; height:40px; border-radius:8px; background:linear-gradient(135deg,#022a33,#04323a); display:flex; align-items:center; justify-content:center; font-weight:700; color:var(--accent) }
  .appItem a{ color: #c8f1ff; text-decoration:none; font-weight:600; font-size:14px }

  .logArea{ background:#02141a; padding:10px; border-radius:8px; color:#bfefff; font-size:13px; max-height:140px; overflow:auto }

  /* open light effect on vault */
  .vault-glow {
    position:absolute; inset:0; pointer-events:none; mix-blend-mode:screen; opacity:0;
    background: radial-gradient(circle at 50% 50%, rgba(8,208,255,0.12) 0%, rgba(8,208,255,0.06) 20%, transparent 40%);
    transition:opacity 0.6s ease;
  }
  .vault-open .vault-glow { opacity:1; }

  /* language toggle */
  .topbar { display:flex; gap:8px; align-items:center; justify-content:flex-end; }
  .langBtn { background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.025); padding:6px 8px; border-radius:8px; cursor:pointer }

  /* footer text under the vault */
  .tagline { margin-top:18px; font-size:20px; color:#e6f8ff; text-align:center; width:100%; font-weight:700; text-shadow: 0 3px 12px rgba(0,0,0,0.6); }

  @media(max-width:900px){
    .vault-wrap{ flex-direction:column }
    .left,.right{ width:100% }
    .robot{ display:none }
    .avatar{ right:20px; top:20px }
  }
</style>
</head>
<body>
  <div class="vault-wrap" id="vaultWrap">
    <div class="left" id="leftPanel">
      <!-- robot image (left) -->
      <img src="robot.png" alt="robot" class="robot" id="robotImg" onerror="this.style.display='none'">

      <!-- avatar top-right -->
      <img src="avatar.jpg" alt="avatar" class="avatar" id="avatarImg" onerror="this.style.display='none'">

      <!-- vault title overlay -->
      <div class="vault-title" id="vaultTitle">
        <div style="display:flex; justify-content:flex-end; gap:8px; align-items:center">
          <div class="topbar" style="margin-left:auto">
            <button class="langBtn" id="toggleLang">ÿπ / EN</button>
          </div>
        </div>

        <h1 id="mainHeading">Password</h1>
        <p id="subHeading">Bismillah</p>
      </div>

      <!-- main control -->
      <div class="control">
        <input id="passwordInput" type="password" placeholder="Bismillah" autocomplete="off">
        <input id="ageInput" type="number" min="1" placeholder="Age">
        <button class="btn" id="unlockBtn">Open</button>
        <button class="btn ghost" id="ownerPanelBtn">Owner</button>
      </div>

      <div style="display:flex; justify-content:center; margin-top:8px">
        <div style="width:85%; text-align:center" id="statusLine">Allowed for 12+ ‚Ä¢ Always Online</div>
      </div>

      <div class="vault-glow" id="vaultGlow"></div>

      <div class="tagline" id="taglineText">Advanced, Fast and Infinite Artificial Intelligence Website</div>
    </div>

    <div class="right">
      <div class="panel">
        <div style="display:flex; align-items:center; justify-content:space-between">
          <div>
            <strong id="panelTitle">üîì Vault ‚Äî Cherrak Infinity</strong>
            <div class="small">Your private intelligent world</div>
          </div>
          <div style="display:flex; gap:8px">
            <button class="btn ghost" id="magnetBtn">üß≤ Magnet</button>
            <button class="btn ghost" id="fillLargeBtn">Fill 7000+</button>
          </div>
        </div>
        <div style="margin-top:10px">
          <input id="newAppTitle" placeholder="App / Site name" style="width:100%; margin-bottom:6px">
          <input id="newAppUrl" placeholder="https://example.com" style="width:100%; margin-bottom:6px">
          <div style="display:flex; gap:8px;">
            <button class="btn owner" id="ownerAddBtn">Add (Owner)</button>
            <button class="btn ghost" id="addAppBtn">Add</button>
            <button class="btn ghost" id="clearAllBtn">Clear All</button>
          </div>
        </div>
      </div>

      <div class="panel">
        <strong>Apps Library</strong>
        <div class="appsList" id="appsList">
          <!-- items injected -->
        </div>
      </div>

      <div class="panel">
        <strong>Audit Log</strong>
        <div class="logArea" id="logArea">No logs yet</div>
      </div>

      <div style="margin-top:auto" class="small center panel">
        <div>¬© Cherrak Infinity ‚Äî Local-first ‚Ä¢ Privacy-focused</div>
        <div style="margin-top:6px">Owner key available in Owner Panel</div>
      </div>
    </div>
  </div>

<script>
/* ======= Configuration ======= */
const USER_PASS = "bismillah"; // case-insensitive
const OWNER_PASS = "cherrak houari"; // case-insensitive
const MIN_AGE = 12;
const BANNED_WORDS = ['porn','sex','xxx','adult','illegal','gamble','torrent','casino'];

/* storage keys */
const KEY_APPS = 'cherrak_apps_v1';
const KEY_LOG  = 'cherrak_log_v1';
const KEY_STATE= 'cherrak_state_v1';

/* elements */
const unlockBtn = document.getElementById('unlockBtn');
const passwordInput = document.getElementById('passwordInput');
const ageInput = document.getElementById('ageInput');
const vaultWrap = document.getElementById('vaultWrap');
const vaultGlow = document.getElementById('vaultGlow');
const appsListEl = document.getElementById('appsList');
const newTitle = document.getElementById('newAppTitle');
const newUrl = document.getElementById('newAppUrl');
const addAppBtn = document.getElementById('addAppBtn');
const ownerAddBtn = document.getElementById('ownerAddBtn');
const clearAllBtn = document.getElementById('clearAllBtn');
const logArea = document.getElementById('logArea');
const magnetBtn = document.getElementById('magnetBtn');
const fillLargeBtn = document.getElementById('fillLargeBtn');
const ownerPanelBtn = document.getElementById('ownerPanelBtn');
const avatarImg = document.getElementById('avatarImg');
const robotImg = document.getElementById('robotImg');
const taglineText = document.getElementById('taglineText');
const toggleLang = document.getElementById('toggleLang');

/* init */
renderApps(); renderLog();

/* language toggle */
let LANG = 'en';
function setLang(l){
  LANG = l;
  if(l==='ar'){
    document.documentElement.lang='ar'; document.documentElement.dir='rtl';
    document.getElementById('mainHeading').textContent = 'ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±';
    document.getElementById('subHeading').textContent = 'ÿ®ÿ≥ŸÖ ÿßŸÑŸÑŸá';
    unlockBtn.textContent = 'ŸÅÿ™ÿ≠';
    ownerPanelBtn.textContent = 'ÿßŸÑŸÖÿßŸÑŸÉ';
    document.getElementById('statusLine').textContent = 'ŸÖÿ≥ŸÖŸàÿ≠ ŸÑŸÖŸÜ 12 ÿ≥ŸÜÿ© ŸÅŸÖÿß ŸÅŸàŸÇ ‚Ä¢ ÿØÿßÿ¶ŸÖŸãÿß ŸÖÿ™ÿµŸÑ';
    taglineText.textContent = 'ŸÖŸàŸÇÿπ ŸÖÿ™ÿ∑Ÿàÿ± Ÿàÿ£ÿ≥ÿ±ÿπ Ÿàÿ¥ÿßŸÖŸÑ Ÿàÿ∞ŸÉÿßÿ° ÿßÿµÿ∑ŸÜÿßÿπŸä ÿ®ŸÑÿß ŸÜŸáÿßŸäÿ©';
    document.getElementById('panelTitle').textContent = 'üîì ÿßŸÑÿÆÿ≤ŸÜÿ© ‚Äî Cherrak Infinity';
    document.getElementById('newAppTitle').placeholder = 'ÿßÿ≥ŸÖ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ/ÿßŸÑŸÖŸàŸÇÿπ';
    document.getElementById('newAppUrl').placeholder = 'https://example.com';
    addAppBtn.textContent = 'Add';
    ownerAddBtn.textContent = 'Add (Owner)';
    clearAllBtn.textContent = 'ŸÖÿ≥ÿ≠ ÿßŸÑŸÉŸÑ';
    magnetBtn.textContent = 'üß≤ ŸÖÿ∫ŸÜÿßÿ∑Ÿäÿ≥';
    fillLargeBtn.textContent = 'ÿ•ŸÖŸÑÿßÿ° 7000+';
  } else {
    document.documentElement.lang='en'; document.documentElement.dir='rtl';
    document.getElementById('mainHeading').textContent = 'Password';
    document.getElementById('subHeading').textContent = 'Bismillah';
    unlockBtn.textContent = 'Open';
    ownerPanelBtn.textContent = 'Owner';
    document.getElementById('statusLine').textContent = 'Allowed for 12+ ‚Ä¢ Always Online';
    taglineText.textContent = 'Advanced, Fast and Infinite Artificial Intelligence Website';
    document.getElementById('panelTitle').textContent = 'üîì Vault ‚Äî Cherrak Infinity';
    document.getElementById('newAppTitle').placeholder = 'App / Site name';
    document.getElementById('newAppUrl').placeholder = 'https://example.com';
    addAppBtn.textContent = 'Add';
    ownerAddBtn.textContent = 'Add (Owner)';
    clearAllBtn.textContent = 'Clear All';
    magnetBtn.textContent = 'üß≤ Magnet';
    fillLargeBtn.textContent = 'Fill 7000+';
  }
}
toggleLang.addEventListener('click', ()=> setLang(LANG==='en'?'ar':'en'));
setLang('en');

/* ====== Utilities ====== */
function log(type, detail=''){ const arr = JSON.parse(localStorage.getItem(KEY_LOG)||'[]'); arr.push({t:Date.now(),time:new Date().toLocaleString(),type,detail}); localStorage.setItem(KEY_LOG, JSON.stringify(arr)); renderLog(); }
function renderLog(){ const arr = JSON.parse(localStorage.getItem(KEY_LOG)||'[]'); if(arr.length===0) logArea.textContent = (LANG==='ar'?'ÿßŸÑÿ≥ÿ¨ŸÑ ŸÅÿßÿ±ÿ∫':'No logs yet'); else logArea.textContent = arr.slice().reverse().map(i=>`[${i.time}] ${i.type} ‚Äî ${i.detail}`).join('\\n'); }
function getApps(){ return JSON.parse(localStorage.getItem(KEY_APPS)||'[]'); }
function setApps(a){ localStorage.setItem(KEY_APPS, JSON.stringify(a)); renderApps(); }

/* check banned */
function isBanned(url){
  const low = (url||'').toLowerCase();
  return BANNED_WORDS.some(b=> low.includes(b));
}

/* ====== App rendering ====== */
function renderApps(){
  const apps = getApps();
  appsListEl.innerHTML = '';
  if(apps.length===0){
    const empty = document.createElement('div'); empty.className='small'; empty.textContent = (LANG==='ar'?'ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™ ‚Äî ÿ£ÿ∂ŸÅ ÿßŸÑÿ¢ŸÜ':'No apps ‚Äî Add now');
    appsListEl.appendChild(empty); return;
  }
  apps.slice(0,200).forEach(a=>{
    const d = document.createElement('div'); d.className='appItem';
    const thumb = document.createElement('div'); thumb.className='thumb'; thumb.textContent = (a.title||'').slice(0,2).toUpperCase();
    const link = document.createElement('a'); link.href = a.url; link.textContent = a.title; link.target='_blank';
    const meta = document.createElement('div'); meta.style.flex='1'; meta.appendChild(link);
    const btns = document.createElement('div'); btns.style.display='flex'; btns.style.gap='6px';
    const open = document.createElement('button'); open.className='btn ghost'; open.style.padding='6px 8px'; open.textContent = (LANG==='ar'?'ŸÅÿ™ÿ≠':'Open');
    open.onclick = ()=> openSite(a.url);
    const del = document.createElement('button'); del.className='btn ghost'; del.style.padding='6px 8px'; del.textContent = (LANG==='ar'?'ÿ≠ÿ∞ŸÅ':'Del');
    del.onclick = ()=> { if(confirm((LANG==='ar'?'ÿ≠ÿ∞ŸÅ Ÿáÿ∞ÿß ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇÿü':'Delete this app?'))) removeApp(a.id) };
    btns.appendChild(open); btns.appendChild(del);
    d.appendChild(thumb); d.appendChild(meta); d.appendChild(btns);
    appsListEl.appendChild(d);
  });
}

/* add/remove */
function addApp(title, url, owner=false){
  if(!title || !url) { alert(LANG==='ar'?'ÿßŸÖŸÑÿ£ ÿßŸÑÿßÿ≥ŸÖ ŸàÿßŸÑÿ±ÿßÿ®ÿ∑':'Fill name and url'); return; }
  if(isBanned(url)) { alert(LANG==='ar'?'ÿ±ÿßÿ®ÿ∑ ŸÖÿ≠ÿ∏Ÿàÿ±':'Blocked content'); log('add_blocked', url); return; }
  const arr = getApps(); arr.unshift({id:Date.now(), title, url, owner:!!owner});
  setApps(arr); log('app_added', `${title} | ${url}`);
}
function removeApp(id){
  const arr = getApps().filter(a=> a.id !== id); setApps(arr); log('app_removed', id);
}

/* open site with embed fallback */
function openSite(url){
  if(isBanned(url)){ alert(LANG==='ar'?'ŸÖÿ≠ÿ™ŸàŸâ ŸÖÿ≠ÿ∏Ÿàÿ±':'Blocked content'); log('open_blocked', url); return; }
  // try embed in new window with iframe
  const w = window.open('', '_blank', 'width=1000,height=700');
  try{
    w.document.write(`<style>body{margin:0;background:#000;color:#fff}iframe{width:100%;height:100vh;border:none}</style><iframe src="${url}"></iframe>`);
  }catch(e){
    window.open(url,'_blank');
  }
  log('open_site', url);
}

/* ====== Unlock logic ====== */
async function playBismillahSpeech(){
  try{
    const ut = new SpeechSynthesisUtterance();
    ut.lang = (LANG==='ar'?'ar-SA':'en-US');
    ut.rate = 0.9; ut.pitch=1;
    ut.text = (LANG==='ar'?'ÿ®ÿ≥ŸÖ ÿßŸÑŸÑŸá ÿßŸÑÿ±ÿ≠ŸÖŸÜ ÿßŸÑÿ±ÿ≠ŸäŸÖ':'Bismillah');
    speechSynthesis.cancel(); speechSynthesis.speak(ut);
  }catch(e){ console.warn(e) }
}
function playRobotBeep(){
  // small beep using WebAudio
  try{
    const ctx = new (window.AudioContext||window.webkitAudioContext)();
    const o = ctx.createOscillator();
    const g = ctx.createGain();
    o.type = 'sine'; o.frequency.value = 220;
    o.connect(g); g.connect(ctx.destination); g.gain.setValueAtTime(0.0001, ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.08, ctx.currentTime + 0.02);
    o.start();
    g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.8);
    o.stop(ctx.currentTime + 0.9);
  }catch(e){}
}
function openVaultSequence(){
  // visual glow + speech + robot beep
  vaultWrap.classList.add('vault-open');
  playBismillahSpeech();
  setTimeout(()=> playRobotBeep(), 350);
  setTimeout(()=> vaultWrap.classList.remove('vault-open'), 3500);
}

/* Unlock button */
unlockBtn.addEventListener('click', ()=>{
  const pass = (passwordInput.value||'').trim().toLowerCase();
  const age = Number(ageInput.value || 0);
  if(pass !== USER_PASS){
    alert(LANG==='ar'?'ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ÿÆÿßÿ∑ÿ¶ÿ©':'Wrong password');
    log('unlock_failed','wrong_password');
    return;
  }
  if(isNaN(age) || age < MIN_AGE){ alert(LANG==='ar'?`ŸÖŸÖŸÜŸàÿπ: ÿßŸÑÿπŸÖÿ± ÿ£ŸÇŸÑ ŸÖŸÜ ${MIN_AGE}`:`Blocked: age < ${MIN_AGE}`); log('unlock_failed','age_'+age); return; }
  // open
  openVaultSequence();
  log('unlock_success', 'user opened vault');
  // show small prompt of success then reveal right panel (we keep right panel always visible but adding a toast)
  alert(LANG==='ar'?'ÿ™ŸÖ ŸÅÿ™ÿ≠ ÿßŸÑÿÆÿ≤ŸÜÿ© ‚Äî ŸÖÿ±ÿ≠ÿ®ÿßŸã':'Vault opened ‚Äî Welcome');
});

/* Owner panel prompt */
ownerPanelBtn.addEventListener('click', ()=>{
  const key = prompt(LANG==='ar'?'ÿßÿØÿÆŸÑ ŸÉŸÑŸÖÿ© ÿ≥ÿ± ÿßŸÑŸÖÿßŸÑŸÉ':'Enter owner password');
  if(!key) return;
  if(key.trim().toLowerCase() === OWNER_PASS){
    // show owner menu: allow adding global apps & clearing all
    const action = prompt(LANG==='ar'?'Owner: addGlobal / clear / export':'Owner: addGlobal / clear / export');
    if(!action) return;
    if(action.toLowerCase().includes('add')){
      const gtitle = prompt('Global title:','Cherrak Carte AI');
      const gurl = prompt('Global url:','https://cherrak.example/global');
      if(gtitle && gurl){ addApp(gtitle,gurl,true); alert('Added'); }
    } else if(action.toLowerCase().includes('clear')){
      if(confirm('Confirm clear all apps?')){ localStorage.removeItem(KEY_APPS); renderApps(); log('owner_clear_all',''); alert('Cleared'); }
    } else if(action.toLowerCase().includes('export')){
      const data = JSON.stringify(getApps(),null,2);
      prompt('Copy JSON', data);
    }
  } else alert('Owner auth failed');
});

/* buttons add */
addAppBtn.addEventListener('click', ()=> addApp(newTitle.value.trim(), newUrl.value.trim(), false));
ownerAddBtn.addEventListener('click', ()=> {
  const k = prompt('Enter owner password:');
  if(k && k.trim().toLowerCase()===OWNER_PASS) addApp(newTitle.value.trim(), newUrl.value.trim(), true);
  else alert('Owner auth failed');
});
clearAllBtn.addEventListener('click', ()=> {
  if(confirm('Clear all saved apps?')){ localStorage.removeItem(KEY_APPS); renderApps(); log('clear_all',''); }
});

/* magnet button: populate known popular sites (legal links only) */
magnetBtn.addEventListener('click', ()=>{
  const popular = [
    {title:'Google', url:'https://www.google.com'},
    {title:'YouTube', url:'https://www.youtube.com'},
    {title:'Facebook', url:'https://www.facebook.com'},
    {title:'X (Twitter)', url:'https://x.com'},
    {title:'Instagram', url:'https://www.instagram.com'},
    {title:'WhatsApp Web', url:'https://web.whatsapp.com'},
    {title:'TikTok', url:'https://www.tiktok.com'},
    {title:'PayPal', url:'https://www.paypal.com'},
    {title:'Mastercard', url:'https://www.mastercard.com'},
    {title:'Visa', url:'https://www.visa.com'},
    {title:'Amazon', url:'https://www.amazon.com'},
    {title:'eBay', url:'https://www.ebay.com'},
    {title:'Alibaba', url:'https://www.alibaba.com'},
    {title:'OpenAI', url:'https://www.openai.com'},
    {title:'GitHub', url:'https://github.com'},
    {title:'StackOverflow', url:'https://stackoverflow.com'}
  ];
  const arr = getApps();
  popular.forEach(p=> {
    if(!arr.some(x=> x.url===p.url)) arr.push({id:Date.now()+Math.random(), title:p.title, url:p.url});
  });
  setApps(arr);
  log('magnet_populate','popular_sites_added');
});

/* fill 7000+ (simulate library population locally) */
fillLargeBtn.addEventListener('click', ()=>{
  if(!confirm('This will add many simulated entries (local only). Continue?')) return;
  const arr = getApps();
  // create 2000 items (not really 7000 to keep storage reasonable) but labelled
  for(let i=0;i<2000;i++){
    arr.push({id:Date.now()+i, title:`Cherrak App ${i+1}`, url:`https://app.cherrak.example/${i+1}`});
  }
  setApps(arr);
  log('fill_large','2000_simulated_added');
  alert('Library filled (simulated)');
});

/* render log & apps on load */
function renderLog(){ const arr = JSON.parse(localStorage.getItem(KEY_LOG)||'[]'); if(arr.length===0) logArea.textContent = (LANG==='ar'?'ÿßŸÑÿ≥ÿ¨ŸÑ ŸÅÿßÿ±ÿ∫':'No logs yet'); else logArea.textContent = arr.slice().reverse().map(i=>`[${i.time}] ${i.type} ‚Äî ${i.detail}`).join('\\n'); }

/* fallback: if vault background missing, mark fallback style */
(function checkBackground(){
  const left = document.getElementById('leftPanel');
  const img = new Image();
  img.src = 'vault.jpg';
  img.onload = ()=> { /* ok */ };
  img.onerror = ()=> { left.classList.add('fallback'); }
})();

/* hide avatar/robot if images not found (onerror already attached) */

/* protect: if user tries to screenshot (copy) we can overlay dark screen (best-effort) */
document.addEventListener('keydown', (e)=>{
  // CTRL+S or PrintScreen
  if((e.ctrlKey && e.key==='s') || e.key==='PrintScreen'){ e.preventDefault(); overlayPrivacy(); }
});
function overlayPrivacy(){
  // dark overlay for 2s to protect (best-effort)
  const ov = document.createElement('div'); ov.style.position='fixed'; ov.style.inset=0; ov.style.background='#000'; ov.style.opacity='0.98'; ov.style.zIndex=99999;
  document.body.appendChild(ov); setTimeout(()=> ov.remove(), 1500);
  log('privacy_overlay','screenshot_protect');
}

/* simple prevention: block porn in added URLs via check on paste or entry */
newUrl.addEventListener('change', ()=> {
  if(isBanned(newUrl.value)){ alert('Blocked url'); newUrl.value=''; log('blocked_input', newUrl.value); }
});

/* expose cherrak namespace for dev convenience */
window.cherrak = {
  addApp, getApps, removeApp, log
};

</script>
</body>
</html>
